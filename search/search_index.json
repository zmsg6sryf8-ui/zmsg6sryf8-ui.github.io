{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to MkDocs","text":"<p>For full documentation visit mkdocs.org.</p>"},{"location":"#commands","title":"Commands","text":"<ul> <li><code>mkdocs new [dir-name]</code> - Create a new project.</li> <li><code>mkdocs serve</code> - Start the live-reloading docs server.</li> <li><code>mkdocs build</code> - Build the documentation site.</li> <li><code>mkdocs -h</code> - Print help message and exit.</li> </ul>"},{"location":"#project-layout","title":"Project layout","text":"<pre><code>mkdocs.yml    # The configuration file.\ndocs/\n    index.md  # The documentation homepage.\n    ...       # Other markdown pages, images and other files.\n</code></pre>"},{"location":"123/","title":"123","text":"<p>'''</p> <pre><code># \u5bfc\u5165\u6240\u9700\u8981\u7684\u5e93\nfrom media.sensor import *      # \u5bfc\u5165\u6444\u50cf\u5934\u4f20\u611f\u5668\u5e93\nfrom media.display import *     # \u5bfc\u5165\u663e\u793a\u5e93\nfrom media.media import *       # \u5bfc\u5165\u5a92\u4f53\u7ba1\u7406\u5e93\nfrom machine import FPIOA, GPIO # \u5bfc\u5165\u786c\u4ef6\u63a7\u5236\u5e93\uff08\u5f15\u811a\u590d\u7528\u548cGPIO\uff09\nimport time                     # \u5bfc\u5165\u65f6\u95f4\u5e93\n\n# \u521d\u59cb\u5316\u989c\u8272\u9608\u503c\uff0c\u6444\u50cf\u5934\u901a\u9053\u548c\u5206\u8fa8\u7387\nsensor_id = 2                   # \u8bbe\u7f6e\u6444\u50cf\u5934\u901a\u9053\u53f7\u4e3a2\nw, h = (320, 240)              # \u8bbe\u7f6e\u5206\u8fa8\u7387\u5bbd\u5ea6320\u50cf\u7d20\uff0c\u9ad8\u5ea6240\u50cf\u7d20\nblue = [(34, 59, -48, -15, 9, 127)]    # \u5b9a\u4e49\u84dd\u8272Lab\u989c\u8272\u7a7a\u95f4\u9608\u503c\u8303\u56f4\nyellow = [(19, 61, -10, -128, 127, -3)] # \u5b9a\u4e49\u9ec4\u8272Lab\u989c\u8272\u7a7a\u95f4\u9608\u503c\u8303\u56f4\n\n#=====sensor\u6444\u50cf\u5934\u521d\u59cb\u5316======#\nsensor = Sensor(id=sensor_id)   # \u521b\u5efa\u6444\u50cf\u5934\u4f20\u611f\u5668\u5bf9\u8c61\nsensor.reset()                  # \u91cd\u7f6e\u6444\u50cf\u5934\nsensor.set_framesize(width=w, height=h) # \u8bbe\u7f6e\u6444\u50cf\u5934\u5206\u8fa8\u7387\nsensor.set_pixformat(Sensor.RGB565)     # \u8bbe\u7f6e\u50cf\u7d20\u683c\u5f0f\u4e3aRGB565\n\n#====\u663e\u793a\u521d\u59cb\u5316=====#\nDisplay.init(Display.VIRT, width=w, height=h) # \u521d\u59cb\u5316\u865a\u62df\u663e\u793a\uff0c\u8bbe\u7f6e\u663e\u793a\u5c3a\u5bf8\n\n#====\u5a92\u4f53\u7ba1\u7406\u521d\u59cb\u5316====#\nMediaManager.init()             # \u521d\u59cb\u5316\u5a92\u4f53\u7ba1\u7406\u5668\nsensor.run()                    # \u542f\u52a8\u6444\u50cf\u5934\u8fd0\u884c\n\n#====RGB\u706f\u521d\u59cb\u5316====#\n# RGB\u706f\u5f15\u811a\u5b9a\u4e49\nred_pin = 45    # \u7ea2\u8272LED\u8fde\u63a5\u7684\u7269\u7406\u5f15\u811a\u53f7\ngreen_pin = 46  # \u7eff\u8272LED\u8fde\u63a5\u7684\u7269\u7406\u5f15\u811a\u53f7  \nblue_pin = 47   # \u84dd\u8272LED\u8fde\u63a5\u7684\u7269\u7406\u5f15\u811a\u53f7\n\n# \u914d\u7f6eGPIO\u5f15\u811a\u529f\u80fd\u6620\u5c04\nfp = FPIOA()                    # \u521b\u5efaFPIOA\uff08\u73b0\u573a\u53ef\u7f16\u7a0bIO\u9635\u5217\uff09\u5bf9\u8c61\nfp.set_function(red_pin, FPIOA.GPIO1)   # \u5c0645\u53f7\u5f15\u811a\u6620\u5c04\u4e3aGPIO1\u529f\u80fd\uff08\u7ea2\u8272LED\uff09\nfp.set_function(green_pin, FPIOA.GPIO2) # \u5c0646\u53f7\u5f15\u811a\u6620\u5c04\u4e3aGPIO2\u529f\u80fd\uff08\u7eff\u8272LED\uff09\nfp.set_function(blue_pin, FPIOA.GPIO3)  # \u5c0647\u53f7\u5f15\u811a\u6620\u5c04\u4e3aGPIO3\u529f\u80fd\uff08\u84dd\u8272LED\uff09\n\n# \u521b\u5efaGPIO\u5bf9\u8c61\nred_led = GPIO(GPIO.GPIO1, GPIO.OUT)    # \u521b\u5efa\u7ea2\u8272LED\u7684GPIO\u5bf9\u8c61\uff0c\u8bbe\u7f6e\u4e3a\u8f93\u51fa\u6a21\u5f0f\ngreen_led = GPIO(GPIO.GPIO2, GPIO.OUT)  # \u521b\u5efa\u7eff\u8272LED\u7684GPIO\u5bf9\u8c61\uff0c\u8bbe\u7f6e\u4e3a\u8f93\u51fa\u6a21\u5f0f\nblue_led = GPIO(GPIO.GPIO3, GPIO.OUT)   # \u521b\u5efa\u84dd\u8272LED\u7684GPIO\u5bf9\u8c61\uff0c\u8bbe\u7f6e\u4e3a\u8f93\u51fa\u6a21\u5f0f\n\n# \u521d\u59cb\u72b6\u6001\u5173\u95ed\u6240\u6709\u706f\nred_led.off()                   # \u5173\u95ed\u7ea2\u8272LED\ngreen_led.off()                 # \u5173\u95ed\u7eff\u8272LED\nblue_led.off()                  # \u5173\u95ed\u84dd\u8272LED\n\n# \u4e3b\u5faa\u73af\nwhile True:\n    img = sensor.snapshot()     # \u4ece\u6444\u50cf\u5934\u83b7\u53d6\u4e00\u5e27\u56fe\u50cf\n\n    # \u76d1\u6d4b\u8272\u5757\n    b = img.find_blobs(blue, area_threshold=9000)    # \u5728\u56fe\u50cf\u4e2d\u67e5\u627e\u84dd\u8272\u8272\u5757\uff0c\u9762\u79ef\u9608\u503c9000\n    y = img.find_blobs(yellow, area_threshold=9000)  # \u5728\u56fe\u50cf\u4e2d\u67e5\u627e\u9ec4\u8272\u8272\u5757\uff0c\u9762\u79ef\u9608\u503c9000\n\n    # \u7ed8\u5236\u68c0\u6d4b\u5230\u7684\u8272\u5757\u8fb9\u754c\u6846\n    for i in b:\n        # \u5728\u84dd\u8272\u8272\u5757\u5468\u56f4\u7ed8\u5236\u7ea2\u8272\u77e9\u5f62\u6846\uff0c\u7ebf\u5bbd3\u50cf\u7d20\n        img.draw_rectangle(i.rect(), color=(255, 0, 0), thickness=3)\n\n    for i in y:\n        # \u5728\u9ec4\u8272\u8272\u5757\u5468\u56f4\u7ed8\u5236\u9ec4\u8272\u77e9\u5f62\u6846\uff0c\u7ebf\u5bbd3\u50cf\u7d20\n        img.draw_rectangle(i.rect(), color=(255, 255, 0), thickness=3)\n\n    # \u6839\u636e\u68c0\u6d4b\u5230\u7684\u989c\u8272\u76f4\u63a5\u63a7\u5236RGB\u706f\n    if b:  # \u5982\u679c\u68c0\u6d4b\u5230\u84dd\u8272\u8272\u5757\n        # \u65b9\u5f0f1\uff1a\u4f7f\u7528on()/off()\u65b9\u6cd5\uff08\u63a8\u8350\uff09\n        red_led.off()           # \u5173\u95ed\u7ea2\u8272LED\n        green_led.off()         # \u5173\u95ed\u7eff\u8272LED\n        blue_led.on()           # \u70b9\u4eae\u84dd\u8272LED\n        print(\"\u68c0\u6d4b\u5230\u84dd\u8272 - \u84dd\u706f\u4eae\")  # \u5728\u63a7\u5236\u53f0\u8f93\u51fa\u72b6\u6001\u4fe1\u606f\n\n    elif y:  # \u5982\u679c\u68c0\u6d4b\u5230\u9ec4\u8272\u8272\u5757\n\n        # \u65b9\u5f0f2\uff1a\u4f7f\u7528value()\u65b9\u6cd5\u8bbe\u7f6e\u9ad8\u4f4e\u7535\u5e73\n        # red_led.value(0)        # \u8bbe\u7f6e\u7ea2\u8272LED\u4e3a\u4f4e\u7535\u5e73\uff08\u5173\u95ed\uff09\n        # green_led.value(0)      # \u8bbe\u7f6e\u7eff\u8272LED\u4e3a\u4f4e\u7535\u5e73\uff08\u5173\u95ed\uff09\n        # blue_led.value(1)       # \u8bbe\u7f6e\u84dd\u8272LED\u4e3a\u9ad8\u7535\u5e73\uff08\u70b9\u4eae\uff09\n    else:    # \u6ca1\u6709\u68c0\u6d4b\u5230\u4efb\u4f55\u989c\u8272\n        # \u65b9\u5f0f3\uff1a\u4f7f\u7528high()\u65b9\u6cd5\u8bbe\u7f6e\u9ad8\u4f4e\u7535\u5e73\n        # red_led.high()    # \u8bbe\u7f6e\u7ea2\u8272LED\u4e3a\u9ad8\u7535\u5e73\uff08\u5f00\u542f\uff09\n        # green_led.high()  # \u8bbe\u7f6e\u7eff\u8272LED\u4e3a\u9ad8\u7535\u5e73\uff08\u5f00\u542f\uff09\n        # blue_led.low()   # \u8bbe\u7f6e\u84dd\u8272LED\u4e3a\u9ad8\u7535\u5e73\uff08\u5173\u95ed\uff09\n\n        print(\"\u672a\u68c0\u6d4b\u5230\u989c\u8272 - \u6240\u6709\u706f\u5173\u95ed\")  # \u5728\u63a7\u5236\u53f0\u8f93\u51fa\u72b6\u6001\u4fe1\u606f\n\n    Display.show_image(img)     # \u5728\u663e\u793a\u7a97\u53e3\u663e\u793a\u5904\u7406\u540e\u7684\u56fe\u50cf\n</code></pre> <p>'''</p>"}]}